/* Generated by Amaranth Yosys 0.40 (PyPI ver 0.40.0.0.post100, git sha1 a1bb0255d) */

(* top =  1  *)
(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:34" *)
(* generator = "Amaranth" *)
module top(clk, rst, uo_out, ui_in);
  reg \$auto$verilog_backend.cc:2352:dump_module$1  = 0;
  wire \$1 ;
  wire \$2 ;
  reg [4:0] \$3 ;
  reg [4:0] \$4  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input clk;
  wire clk;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:18" *)
  wire [2:0] cmd;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:23" *)
  wire en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  wire \en$30 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:23" *)
  wire [2:0] \en$31 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  wire \en$32 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  wire \en$33 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  wire \en$34 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:24" *)
  wire [4:0] in_ltor;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:27" *)
  wire [4:0] in_rtol;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  wire inc;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:26" *)
  wire [2:0] \inc$46 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  wire \inc$47 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  wire \inc$48 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  wire \inc$49 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:19" *)
  wire [2:0] is_at_turnover;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  wire \is_at_turnover$51 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  wire \is_at_turnover$52 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  wire \is_at_turnover$53 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  wire [4:0] left_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  wire [4:0] \left_in$23 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  wire [4:0] \left_in$25 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  wire [4:0] \left_in$27 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  wire [4:0] left_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  wire [4:0] \left_out$19 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  wire [4:0] \left_out$21 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  wire [4:0] \left_out$24 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  wire load_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:25" *)
  wire \load_ring$41 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  wire \load_ring$42 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  wire \load_ring$43 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  wire \load_ring$44 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  wire load_start;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:24" *)
  wire \load_start$36 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  wire \load_start$37 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  wire \load_start$38 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  wire \load_start$39 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:25" *)
  wire [4:0] out_ltor;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:28" *)
  wire [4:0] out_rtol;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:30" *)
  wire plugboard_en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:28" *)
  wire plugboard_wr_addr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:29" *)
  wire plugboard_wr_data;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:21" *)
  wire ready;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:22" *)
  wire result_ready;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  wire [4:0] right_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  wire [4:0] \right_in$16 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  wire [4:0] \right_in$18 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  wire [4:0] \right_in$20 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:42" *)
  wire [4:0] right_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] \right_out$26 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] \right_out$28 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] \right_out$29 ;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input rst;
  wire rst;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:10" *)
  input [7:0] ui_in;
  wire [7:0] ui_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:11" *)
  output [5:0] uo_out;
  wire [5:0] uo_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:33" *)
  wire wr_addr_en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:30" *)
  wire [4:0] wr_data;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:32" *)
  wire wr_data_en;
  assign \$1  = ui_in[7:5] == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:63" *) 3'h4;
  assign \$2  = result_ready & (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:63" *) \$1 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:11" *)
  always @(posedge clk)
    \$4  <= \$3 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:39" *)
  \top.fsm  fsm (
    .clk(clk),
    .cmd(ui_in[7:5]),
    .en(\en$31 ),
    .inc(\inc$46 ),
    .is_at_turnover(is_at_turnover),
    .load_ring(load_ring),
    .load_start(load_start),
    .plugboard_en(en),
    .plugboard_wr_addr(wr_addr_en),
    .plugboard_wr_data(wr_data_en),
    .ready(ready),
    .result_ready(result_ready),
    .rst(rst)
  );
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:40" *)
  \top.plugboard  plugboard (
    .clk(clk),
    .en(en),
    .in_ltor(in_ltor),
    .in_rtol(ui_in[4:0]),
    .out_ltor(out_ltor),
    .out_rtol(right_in),
    .rst(rst),
    .wr_data_en(wr_data_en)
  );
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:35" *)
  \top.r0  r0 (
    .clk(clk),
    .en(\en$31 [0]),
    .inc(\inc$46 [0]),
    .is_at_turnover(\is_at_turnover$51 ),
    .left_in(\left_in$27 ),
    .left_out(\right_in$16 ),
    .load_ring(load_ring),
    .load_start(load_start),
    .right_in(right_in),
    .rst(rst),
    .swizz_l_minus_cnt_ring(in_ltor)
  );
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:36" *)
  \top.r1  r1 (
    .clk(clk),
    .en(\en$31 [1]),
    .inc(\inc$46 [1]),
    .is_at_turnover(\is_at_turnover$52 ),
    .left_in(\left_in$25 ),
    .left_out(\right_in$18 ),
    .load_ring(load_ring),
    .load_start(load_start),
    .right_in(\right_in$16 ),
    .rst(rst),
    .swizz_l_minus_cnt_ring(\left_in$27 )
  );
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:37" *)
  \top.r2  r2 (
    .clk(clk),
    .en(\en$31 [2]),
    .inc(\inc$46 [2]),
    .is_at_turnover(\is_at_turnover$53 ),
    .left_in(\left_in$23 ),
    .left_out(\right_in$20 ),
    .load_ring(load_ring),
    .load_start(load_start),
    .right_in(\right_in$18 ),
    .rst(rst),
    .swizz_l_minus_cnt_ring(\left_in$25 )
  );
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/top.py:38" *)
  \top.ref  \ref  (
    .left_out(\left_in$23 ),
    .right_ptr(\right_in$20 )
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    \$3  = \$4 ;
    if (\$2 ) begin
      \$3  = out_ltor;
    end
    if (rst) begin
      \$3  = 5'h00;
    end
  end
  assign in_rtol = ui_in[4:0];
  assign right_out = in_ltor;
  assign plugboard_en = en;
  assign wr_data = ui_in[4:0];
  assign plugboard_wr_data = wr_data_en;
  assign plugboard_wr_addr = wr_addr_en;
  assign out_rtol = right_in;
  assign left_out = \right_in$16 ;
  assign \left_out$19  = \right_in$18 ;
  assign \left_out$21  = \right_in$20 ;
  assign left_in = 5'h00;
  assign \left_out$24  = \left_in$23 ;
  assign \right_out$26  = \left_in$25 ;
  assign \right_out$28  = \left_in$27 ;
  assign \right_out$29  = in_ltor;
  assign \en$30  = \en$31 [0];
  assign \en$32  = \en$31 [1];
  assign \en$33  = \en$31 [2];
  assign \en$34  = 1'h0;
  assign \load_start$36  = load_start;
  assign \load_start$37  = load_start;
  assign \load_start$38  = load_start;
  assign \load_start$39  = 1'h0;
  assign \load_ring$41  = load_ring;
  assign \load_ring$42  = load_ring;
  assign \load_ring$43  = load_ring;
  assign \load_ring$44  = 1'h0;
  assign inc = \inc$46 [0];
  assign \inc$47  = \inc$46 [1];
  assign \inc$48  = \inc$46 [2];
  assign \inc$49  = 1'h0;
  assign cmd = ui_in[7:5];
  assign uo_out = { ready, \$4  };
  assign is_at_turnover[2] = \is_at_turnover$53 ;
  assign is_at_turnover[1] = \is_at_turnover$52 ;
  assign is_at_turnover[0] = \is_at_turnover$51 ;
endmodule

(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:37" *)
(* generator = "Amaranth" *)
module \top.fsm (clk, rst, is_at_turnover, en, ready, load_start, load_ring, plugboard_en, plugboard_wr_addr, plugboard_wr_data, result_ready, inc, cmd);
  reg \$auto$verilog_backend.cc:2352:dump_module$2  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire [2:0] \$12 ;
  wire [2:0] \$13 ;
  wire \$14 ;
  wire \$15 ;
  wire \$16 ;
  reg [1:0] \$17 ;
  reg [3:0] \$18 ;
  reg [2:0] \$19 ;
  wire \$2 ;
  reg \$20 ;
  wire \$3 ;
  wire \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire \$7 ;
  wire \$8 ;
  wire \$9 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:39" *)
  reg [1:0] active;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input clk;
  wire clk;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:18" *)
  input [2:0] cmd;
  wire [2:0] cmd;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:38" *)
  reg [1:0] cnt = 2'h0;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:41" *)
  reg double_step = 1'h0;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:23" *)
  output [2:0] en;
  reg [2:0] en;
  (* enum_base_type = "fsmState" *)
  (* enum_value_0000 = "Initial/0" *)
  (* enum_value_0001 = "Get command/1" *)
  (* enum_value_0010 = "Load start/2" *)
  (* enum_value_0011 = "Load ring/3" *)
  (* enum_value_0100 = "Load plug addr/4" *)
  (* enum_value_0101 = "Load plug data/5" *)
  (* enum_value_0110 = "Inc Rotor 0/6" *)
  (* enum_value_0111 = "Inc Rotor 1/7" *)
  (* enum_value_1000 = "Delay/8" *)
  (* enum_value_1001 = "Check Rotor 1 Turnover/9" *)
  (* enum_value_1010 = "Inc Rotor 2/10" *)
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:66" *)
  reg [3:0] fsm_state = 4'h0;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:40" *)
  output [2:0] inc;
  reg [2:0] inc = 3'h0;
  (* init = 3'h0 *)
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:40" *)
  wire [2:0] \inc$1 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:19" *)
  input [2:0] is_at_turnover;
  wire [2:0] is_at_turnover;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:25" *)
  output load_ring;
  reg load_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:24" *)
  output load_start;
  reg load_start;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:30" *)
  output plugboard_en;
  reg plugboard_en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:28" *)
  output plugboard_wr_addr;
  reg plugboard_wr_addr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:29" *)
  output plugboard_wr_data;
  reg plugboard_wr_data;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:21" *)
  output ready;
  reg ready;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:22" *)
  output result_ready;
  reg result_ready;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input rst;
  wire rst;
  assign \$1  = ! (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) fsm_state;
  assign \$2  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 1'h1;
  assign \$3  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 2'h2;
  assign \$4  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 2'h3;
  assign \$5  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 3'h4;
  assign \$6  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 3'h5;
  assign \$7  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 3'h6;
  assign \$8  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 3'h7;
  assign \$9  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 4'h8;
  assign \$10  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 4'h9;
  assign \$11  = fsm_state == (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_dsl.py:486" *) 4'ha;
  assign \$12  = cnt + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:90" *) 1'h1;
  assign \$13  = cnt + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:93" *) 1'h1;
  assign \$14  = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:119" *) 2'h3;
  assign \$15  = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:130" *) 2'h3;
  assign \$16  = is_at_turnover[0] | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:141" *) double_step;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:38" *)
  always @(posedge clk)
    cnt <= \$17 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:66" *)
  always @(posedge clk)
    fsm_state <= \$18 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:40" *)
  always @(posedge clk)
    inc <= \$19 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/fsm.py:41" *)
  always @(posedge clk)
    double_step <= \$20 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    (* full_case = 32'd1 *)
    casez (active)
      2'h1:
          en = 3'h1;
      2'h2:
          en = 3'h2;
      2'h3:
          en = 3'h4;
      default:
          en = 3'h0;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    ready = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          ready = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    load_start = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          load_start = 1'h0;
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          load_start = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    load_ring = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          load_ring = 1'h0;
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          /* empty */;
      4'h3:
          load_ring = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    plugboard_en = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          plugboard_en = 1'h1;
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          /* empty */;
      4'h3:
          /* empty */;
      4'h6:
          plugboard_en = 1'h1;
      4'h7:
          plugboard_en = 1'h1;
      4'h9:
          plugboard_en = 1'h1;
      4'ha:
          plugboard_en = 1'h1;
      4'h8:
          plugboard_en = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    plugboard_wr_addr = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          /* empty */;
      4'h4:
          plugboard_wr_addr = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    plugboard_wr_data = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          /* empty */;
      4'h4:
          /* empty */;
      4'h5:
          plugboard_wr_data = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    active = 2'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          /* empty */;
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          active = cnt;
      4'h3:
          active = cnt;
      4'h6:
          active = cnt;
      4'h7:
          active = cnt;
      4'h9:
          /* empty */;
      4'ha:
          active = cnt;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    result_ready = 1'h0;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          /* empty */;
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          /* empty */;
      4'h3:
          /* empty */;
      4'h6:
          /* empty */;
      4'h7:
          /* empty */;
      4'h9:
          /* empty */;
      4'ha:
          /* empty */;
      4'h8:
          result_ready = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$17  = cnt;
    casez (fsm_state)
      4'h0:
          \$17  = 2'h0;
      4'h1:
        begin
          \$17  = 2'h0;
          casez (cmd)
            3'h3:
                /* empty */;
            3'h1:
                \$17  = \$12 [1:0];
            3'h2:
                \$17  = \$13 [1:0];
            3'h5:
                /* empty */;
            3'h6:
                /* empty */;
            3'h4:
                \$17  = 2'h1;
          endcase
        end
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          if (\$14 ) begin
            \$17  = 2'h0;
          end
      4'h3:
          if (\$15 ) begin
            \$17  = 2'h0;
          end
      4'h6:
          if (\$16 ) begin
            \$17  = 2'h2;
          end
      4'h7:
          \$17  = 2'h2;
      4'h9:
          if (is_at_turnover[1]) begin
          end else if (double_step) begin
            \$17  = 2'h3;
          end
      4'ha:
          \$17  = 2'h0;
    endcase
    if (rst) begin
      \$17  = 2'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$18  = fsm_state;
    casez (fsm_state)
      4'h0:
          \$18  = 4'h1;
      4'h1:
          (* full_case = 32'd1 *)
          casez (cmd)
            3'h3:
                \$18  = 4'h0;
            3'h1:
                \$18  = 4'h2;
            3'h2:
                \$18  = 4'h3;
            3'h5:
                \$18  = 4'h4;
            3'h6:
                \$18  = 4'h5;
            3'h4:
                \$18  = 4'h6;
            default:
                \$18  = 4'h1;
          endcase
      4'h4:
          \$18  = 4'h1;
      4'h5:
          \$18  = 4'h1;
      4'h2:
          (* full_case = 32'd1 *)
          if (\$14 ) begin
            \$18  = 4'h1;
          end else begin
            \$18  = 4'h1;
          end
      4'h3:
          \$18  = 4'h1;
      4'h6:
          (* full_case = 32'd1 *)
          if (\$16 ) begin
            \$18  = 4'h7;
          end else begin
            \$18  = 4'h8;
          end
      4'h7:
          \$18  = 4'h9;
      4'h9:
          (* full_case = 32'd1 *)
          if (is_at_turnover[1]) begin
            \$18  = 4'h8;
          end else if (double_step) begin
            \$18  = 4'ha;
          end else begin
            \$18  = 4'h8;
          end
      4'ha:
          \$18  = 4'h8;
      4'h8:
          \$18  = 4'h1;
    endcase
    if (rst) begin
      \$18  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$19  = inc;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
        begin
          \$19  = 3'h0;
          casez (cmd)
            3'h3:
                /* empty */;
            3'h1:
                /* empty */;
            3'h2:
                /* empty */;
            3'h5:
                /* empty */;
            3'h6:
                /* empty */;
            3'h4:
                \$19 [0] = 1'h1;
          endcase
        end
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          /* empty */;
      4'h3:
          /* empty */;
      4'h6:
          if (\$16 ) begin
            \$19 [0] = 1'h0;
            \$19 [1] = 1'h1;
          end
      4'h7:
          \$19 [1] = 1'h0;
      4'h9:
        begin
          \$19 [0] = 1'h0;
          \$19 [1] = 1'h0;
          if (is_at_turnover[1]) begin
          end else if (double_step) begin
            \$19 [2] = 1'h1;
          end
        end
      4'ha:
        begin
          \$19 [0] = 1'h0;
          \$19 [1] = 1'h0;
          \$19 [2] = 1'h0;
        end
    endcase
    if (rst) begin
      \$19  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$20  = double_step;
    casez (fsm_state)
      4'h0:
          /* empty */;
      4'h1:
          /* empty */;
      4'h4:
          /* empty */;
      4'h5:
          /* empty */;
      4'h2:
          /* empty */;
      4'h3:
          /* empty */;
      4'h6:
          /* empty */;
      4'h7:
          /* empty */;
      4'h9:
          if (is_at_turnover[1]) begin
            \$20  = 1'h1;
          end
      4'ha:
          \$20  = 1'h0;
    endcase
    if (rst) begin
      \$20  = 1'h0;
    end
  end
  assign \inc$1  = inc;
endmodule

(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:39" *)
(* generator = "Amaranth" *)
module \top.plugboard (clk, rst, in_ltor, out_rtol, out_ltor, en, wr_data_en, in_rtol);
  reg \$auto$verilog_backend.cc:2352:dump_module$3  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire \$13 ;
  wire \$14 ;
  wire \$15 ;
  wire \$16 ;
  wire \$17 ;
  wire \$18 ;
  wire \$19 ;
  wire \$2 ;
  wire \$20 ;
  wire \$21 ;
  wire \$22 ;
  wire \$23 ;
  wire \$24 ;
  wire \$25 ;
  wire \$26 ;
  wire \$27 ;
  wire \$28 ;
  wire \$29 ;
  wire \$3 ;
  wire \$30 ;
  wire \$31 ;
  wire \$32 ;
  wire \$33 ;
  wire \$34 ;
  wire \$35 ;
  wire \$36 ;
  wire \$37 ;
  wire \$38 ;
  wire \$39 ;
  wire \$4 ;
  wire \$40 ;
  reg [4:0] \$41 ;
  reg [4:0] \$42 ;
  reg [4:0] \$43 ;
  reg [4:0] \$44 ;
  reg [4:0] \$45 ;
  reg [4:0] \$46 ;
  reg [4:0] \$47 ;
  reg [4:0] \$48 ;
  reg [4:0] \$49 ;
  wire \$5 ;
  reg [4:0] \$50 ;
  reg [4:0] \$51 ;
  reg [4:0] \$52 ;
  reg [4:0] \$53 ;
  reg [4:0] \$54 ;
  reg [4:0] \$55 ;
  reg [4:0] \$56 ;
  reg [4:0] \$57 ;
  reg [4:0] \$58 ;
  reg [4:0] \$59 ;
  wire \$6 ;
  reg [4:0] \$60 ;
  wire \$7 ;
  wire \$8 ;
  wire \$9 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal ;
  (* init = 5'h00 *)
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  wire [4:0] \$signal$10 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$11 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$12  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$13  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$14 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$15 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$16 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$17 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$18 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$19 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$20  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$21  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$22 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$23 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$24 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$25 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$26  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$27  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$28 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$29 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$30 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$31 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$32  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$33  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$34 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$35 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$36 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$37 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$38  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$39  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$4 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$40 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$41 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$42 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$43 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$44  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$45  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$46 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$47 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$48 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$49 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$5 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$50  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$51  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$52 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$53 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$54 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$55 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$56  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$57  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$58 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$59 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$60 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$61 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$62  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  reg [4:0] \$signal$63  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:45" *)
  wire [4:0] \$signal$64 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$65 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$66 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  reg [4:0] \$signal$67  = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:46" *)
  wire [4:0] \$signal$8 ;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input clk;
  wire clk;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:23" *)
  input en;
  wire en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:24" *)
  input [4:0] in_ltor;
  wire [4:0] in_ltor;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:30" *)
  input [4:0] in_rtol;
  wire [4:0] in_rtol;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:25" *)
  output [4:0] out_ltor;
  wire [4:0] out_ltor;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:28" *)
  output [4:0] out_rtol;
  wire [4:0] out_rtol;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input rst;
  wire rst;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:30" *)
  wire [4:0] wr_data;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:32" *)
  input wr_data_en;
  wire wr_data_en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:31" *)
  reg [4:0] wr_data_out = 5'h00;
  assign \$signal$41  = \$19  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$39  : \$signal$35 ;
  assign \$20  = \$signal$39  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$35 ;
  assign \$signal$42  = \$20  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$38  : \$signal$36 ;
  assign \$21  = \$signal$44  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$37 ;
  assign \$signal$43  = \$21  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$45  : \$signal$37 ;
  assign \$22  = \$signal$45  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$37 ;
  assign \$signal$46  = \$22  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$44  : \$signal$40 ;
  assign \$23  = \$signal$44  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$41 ;
  assign \$signal$47  = \$23  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$45  : \$signal$41 ;
  assign \$24  = \$signal$45  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$41 ;
  assign \$signal$48  = \$24  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$44  : \$signal$42 ;
  assign \$25  = \$signal$50  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$43 ;
  assign \$signal$49  = \$25  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$51  : \$signal$43 ;
  assign \$26  = \$signal$51  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$43 ;
  assign \$signal$52  = \$26  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$50  : \$signal$46 ;
  assign \$27  = \$signal$50  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$47 ;
  assign \$signal$53  = \$27  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$51  : \$signal$47 ;
  assign \$28  = \$signal$51  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$47 ;
  assign \$signal$54  = \$28  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$50  : \$signal$48 ;
  assign \$29  = \$signal$56  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$49 ;
  assign \$signal$55  = \$29  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$57  : \$signal$49 ;
  assign \$30  = \$signal$57  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$49 ;
  assign \$signal$58  = \$30  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$56  : \$signal$52 ;
  assign \$31  = \$signal$56  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$53 ;
  assign \$signal$59  = \$31  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$57  : \$signal$53 ;
  assign \$32  = \$signal$57  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$53 ;
  assign \$signal$60  = \$32  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$56  : \$signal$54 ;
  assign \$33  = \$signal$62  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$55 ;
  assign \$signal$61  = \$33  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$63  : \$signal$55 ;
  assign \$34  = \$signal$63  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$55 ;
  assign \$signal$64  = \$34  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$62  : \$signal$58 ;
  assign \$35  = \$signal$62  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$59 ;
  assign \$signal$65  = \$35  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$63  : \$signal$59 ;
  assign \$36  = \$signal$63  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$59 ;
  assign \$signal$66  = \$36  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$62  : \$signal$60 ;
  assign \$37  = \$signal$67  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$61 ;
  assign \$signal$15  = \$37  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) wr_data_out : \$signal$61 ;
  assign \$38  = wr_data_out == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$61 ;
  assign \$signal$4  = \$38  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$67  : \$signal$64 ;
  assign \$39  = \$signal$67  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$65 ;
  assign \$signal$18  = \$39  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) wr_data_out : \$signal$65 ;
  assign \$40  = wr_data_out == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$65 ;
  assign \$signal$8  = \$40  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$67  : \$signal$66 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$20  <= \$41 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$21  <= \$42 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$26  <= \$43 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$27  <= \$44 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$32  <= \$45 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$33  <= \$46 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$38  <= \$47 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$39  <= \$48 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$44  <= \$49 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$45  <= \$50 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$50  <= \$51 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$51  <= \$52 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$56  <= \$53 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$57  <= \$54 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$62  <= \$55 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$63  <= \$56 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$67  <= \$57 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    wr_data_out <= \$58 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:43" *)
  always @(posedge clk)
    \$signal$13  <= \$59 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:42" *)
  always @(posedge clk)
    \$signal$12  <= \$60 ;
  assign out_rtol = en ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:51" *) \$signal$4  : in_rtol;
  assign out_ltor = en ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:56" *) \$signal$8  : in_ltor;
  assign \$1  = \$signal$12  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) in_rtol;
  assign \$signal$11  = \$1  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$13  : in_rtol;
  assign \$2  = \$signal$13  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) in_rtol;
  assign \$signal$14  = \$2  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$12  : \$signal$15 ;
  assign \$3  = \$signal$12  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) in_ltor;
  assign \$signal$16  = \$3  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$13  : in_ltor;
  assign \$4  = \$signal$13  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) in_ltor;
  assign \$signal$17  = \$4  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$12  : \$signal$18 ;
  assign \$5  = \$signal$20  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$11 ;
  assign \$signal$19  = \$5  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$21  : \$signal$11 ;
  assign \$6  = \$signal$21  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$11 ;
  assign \$signal$22  = \$6  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$20  : \$signal$14 ;
  assign \$7  = \$signal$20  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$16 ;
  assign \$signal$23  = \$7  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$21  : \$signal$16 ;
  assign \$8  = \$signal$21  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$16 ;
  assign \$signal$24  = \$8  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$20  : \$signal$17 ;
  assign \$9  = \$signal$26  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$19 ;
  assign \$signal$25  = \$9  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$27  : \$signal$19 ;
  assign \$10  = \$signal$27  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$19 ;
  assign \$signal$28  = \$10  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$26  : \$signal$22 ;
  assign \$11  = \$signal$26  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$23 ;
  assign \$signal$29  = \$11  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$27  : \$signal$23 ;
  assign \$12  = \$signal$27  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$23 ;
  assign \$signal$30  = \$12  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$26  : \$signal$24 ;
  assign \$13  = \$signal$32  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$25 ;
  assign \$signal$31  = \$13  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$33  : \$signal$25 ;
  assign \$14  = \$signal$33  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$25 ;
  assign \$signal$34  = \$14  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$32  : \$signal$28 ;
  assign \$15  = \$signal$32  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$29 ;
  assign \$signal$35  = \$15  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$33  : \$signal$29 ;
  assign \$16  = \$signal$33  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$29 ;
  assign \$signal$36  = \$16  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:66" *) \$signal$32  : \$signal$30 ;
  assign \$17  = \$signal$38  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$31 ;
  assign \$signal$37  = \$17  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:62" *) \$signal$39  : \$signal$31 ;
  assign \$18  = \$signal$39  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$31 ;
  assign \$signal$40  = \$18  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:63" *) \$signal$38  : \$signal$34 ;
  assign \$19  = \$signal$38  == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/plugboard2.py:65" *) \$signal$35 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$41  = \$signal$20 ;
    if (wr_data_en) begin
      \$41  = \$signal$12 ;
    end
    if (rst) begin
      \$41  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$42  = \$signal$21 ;
    if (wr_data_en) begin
      \$42  = \$signal$13 ;
    end
    if (rst) begin
      \$42  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$43  = \$signal$26 ;
    if (wr_data_en) begin
      \$43  = \$signal$20 ;
    end
    if (rst) begin
      \$43  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$44  = \$signal$27 ;
    if (wr_data_en) begin
      \$44  = \$signal$21 ;
    end
    if (rst) begin
      \$44  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$45  = \$signal$32 ;
    if (wr_data_en) begin
      \$45  = \$signal$26 ;
    end
    if (rst) begin
      \$45  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$46  = \$signal$33 ;
    if (wr_data_en) begin
      \$46  = \$signal$27 ;
    end
    if (rst) begin
      \$46  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$47  = \$signal$38 ;
    if (wr_data_en) begin
      \$47  = \$signal$32 ;
    end
    if (rst) begin
      \$47  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$48  = \$signal$39 ;
    if (wr_data_en) begin
      \$48  = \$signal$33 ;
    end
    if (rst) begin
      \$48  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$49  = \$signal$44 ;
    if (wr_data_en) begin
      \$49  = \$signal$38 ;
    end
    if (rst) begin
      \$49  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$50  = \$signal$45 ;
    if (wr_data_en) begin
      \$50  = \$signal$39 ;
    end
    if (rst) begin
      \$50  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$51  = \$signal$50 ;
    if (wr_data_en) begin
      \$51  = \$signal$44 ;
    end
    if (rst) begin
      \$51  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$52  = \$signal$51 ;
    if (wr_data_en) begin
      \$52  = \$signal$45 ;
    end
    if (rst) begin
      \$52  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$53  = \$signal$56 ;
    if (wr_data_en) begin
      \$53  = \$signal$50 ;
    end
    if (rst) begin
      \$53  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$54  = \$signal$57 ;
    if (wr_data_en) begin
      \$54  = \$signal$51 ;
    end
    if (rst) begin
      \$54  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$55  = \$signal$62 ;
    if (wr_data_en) begin
      \$55  = \$signal$56 ;
    end
    if (rst) begin
      \$55  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$56  = \$signal$63 ;
    if (wr_data_en) begin
      \$56  = \$signal$57 ;
    end
    if (rst) begin
      \$56  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$57  = \$signal$67 ;
    if (wr_data_en) begin
      \$57  = \$signal$62 ;
    end
    if (rst) begin
      \$57  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$58  = wr_data_out;
    if (wr_data_en) begin
      \$58  = \$signal$63 ;
    end
    if (rst) begin
      \$58  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$59  = \$signal$13 ;
    if (wr_data_en) begin
      \$59  = \$signal$67 ;
    end
    if (rst) begin
      \$59  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$60  = \$signal$12 ;
    if (wr_data_en) begin
      \$60  = in_rtol;
    end
    if (rst) begin
      \$60  = 5'h00;
    end
  end
  assign \$signal  = in_rtol;
  assign \$signal$5  = in_ltor;
  assign \$signal$10  = wr_data_out;
  assign wr_data = in_rtol;
endmodule

(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:31" *)
(* generator = "Amaranth" *)
module \top.r0 (rst, is_at_turnover, left_out, swizz_l_minus_cnt_ring, left_in, right_in, en, load_start, load_ring, inc, clk);
  reg \$auto$verilog_backend.cc:2352:dump_module$4  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire [6:0] \$13 ;
  reg [4:0] \$14 ;
  wire [6:0] \$15 ;
  wire [6:0] \$16 ;
  wire \$17 ;
  wire [5:0] \$18 ;
  reg [4:0] \$19 ;
  wire [5:0] \$2 ;
  reg [4:0] \$20 ;
  wire [6:0] \$3 ;
  wire [5:0] \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire [6:0] \$7 ;
  wire [6:0] \$8 ;
  wire [6:0] \$9 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:80" *)
  wire [5:0] a_ext;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:80" *)
  wire [5:0] \a_ext$23 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:81" *)
  wire [5:0] b_ext;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:81" *)
  wire [5:0] \b_ext$24 ;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input clk;
  wire clk;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  reg [4:0] cnt = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:33" *)
  reg [4:0] cnt_ring_combined;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:82" *)
  wire [5:0] diff_plus_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:82" *)
  wire [5:0] \diff_plus_26$26 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  input en;
  wire en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  input inc;
  wire inc;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  output is_at_turnover;
  wire is_at_turnover;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  input [4:0] left_in;
  wire [4:0] left_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  output [4:0] left_out;
  wire [4:0] left_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:27" *)
  wire [4:0] left_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  input load_ring;
  wire load_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  input load_start;
  wire load_start;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  input [4:0] right_in;
  wire [4:0] right_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] right_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:22" *)
  wire [4:0] right_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:24" *)
  reg [4:0] ring_setting = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input rst;
  wire rst;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:23" *)
  reg [4:0] rtol_swizzle;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:68" *)
  wire [5:0] s;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:79" *)
  wire [5:0] \s$12 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:68" *)
  wire [5:0] \s$18 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:79" *)
  wire [5:0] \s$25 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:70" *)
  wire s_ge_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:70" *)
  wire \s_ge_26$20 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:69" *)
  wire [5:0] s_m_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:69" *)
  wire [5:0] \s_m_26$21 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  output [4:0] swizz_l_minus_cnt_ring;
  wire [4:0] swizz_l_minus_cnt_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:119" *)
  wire [4:0] swizz_minus_cnt_ring;
  assign \$1  = ring_setting > (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:34" *) cnt;
  assign \$2  = ring_setting - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:35" *) cnt;
  assign \$3  = $signed(6'h1a) - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:35" *) $signed(\$2 );
  assign \$4  = cnt - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:37" *) ring_setting;
  assign is_at_turnover = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:61" *) 5'h10;
  assign s = right_in + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:72" *) cnt_ring_combined;
  assign \$6  = s[4:0] >= (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) 5'h1a;
  assign s_ge_26 = \$5  | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) \$6 ;
  assign \$7  = s - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:74" *) 5'h1a;
  assign right_ptr = s_ge_26 ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:75" *) \$7 [4:0] : s[4:0];
  assign \$8  = rtol_swizzle - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:87" *) cnt_ring_combined;
  assign \$9  = \$8 [5:0] + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:88" *) 5'h1a;
  assign swizz_minus_cnt_ring = \$8 [5] ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:90" *) \$9 [4:0] : \$8 [4:0];
  assign \$10  = load_start | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:122" *) load_ring;
  assign left_out = \$10  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:122" *) right_in : swizz_minus_cnt_ring;
  assign \s$18  = left_in + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:72" *) cnt_ring_combined;
  assign \$12  = \s$18 [4:0] >= (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) 5'h1a;
  assign \s_ge_26$20  = \$11  | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) \$12 ;
  assign \$13  = \s$18  - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:74" *) 5'h1a;
  assign left_ptr = \s_ge_26$20  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:75" *) \$13 [4:0] : \s$18 [4:0];
  assign \$15  = \$14  - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:87" *) cnt_ring_combined;
  assign \$16  = \$15 [5:0] + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:88" *) 5'h1a;
  assign swizz_l_minus_cnt_ring = \$15 [5] ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:90" *) \$16 [4:0] : \$15 [4:0];
  assign \$17  = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:45" *) 5'h19;
  assign \$18  = cnt + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:48" *) 1'h1;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  always @(posedge clk)
    cnt <= \$19 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:24" *)
  always @(posedge clk)
    ring_setting <= \$20 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    rtol_swizzle = 5'h00;
    casez (right_ptr)
      5'h00:
          rtol_swizzle = 5'h04;
      5'h01:
          rtol_swizzle = 5'h0a;
      5'h02:
          rtol_swizzle = 5'h0c;
      5'h03:
          rtol_swizzle = 5'h05;
      5'h04:
          rtol_swizzle = 5'h0b;
      5'h05:
          rtol_swizzle = 5'h06;
      5'h06:
          rtol_swizzle = 5'h03;
      5'h07:
          rtol_swizzle = 5'h10;
      5'h08:
          rtol_swizzle = 5'h15;
      5'h09:
          rtol_swizzle = 5'h19;
      5'h0a:
          rtol_swizzle = 5'h0d;
      5'h0b:
          rtol_swizzle = 5'h13;
      5'h0c:
          rtol_swizzle = 5'h0e;
      5'h0d:
          rtol_swizzle = 5'h16;
      5'h0e:
          rtol_swizzle = 5'h18;
      5'h0f:
          rtol_swizzle = 5'h07;
      5'h10:
          rtol_swizzle = 5'h17;
      5'h11:
          rtol_swizzle = 5'h14;
      5'h12:
          rtol_swizzle = 5'h12;
      5'h13:
          rtol_swizzle = 5'h0f;
      5'h14:
          rtol_swizzle = 5'h00;
      5'h15:
          rtol_swizzle = 5'h08;
      5'h16:
          rtol_swizzle = 5'h01;
      5'h17:
          rtol_swizzle = 5'h11;
      5'h18:
          rtol_swizzle = 5'h02;
      5'h19:
          rtol_swizzle = 5'h09;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    \$14  = 5'h00;
    casez (left_ptr)
      5'h00:
          \$14  = 5'h14;
      5'h01:
          \$14  = 5'h16;
      5'h02:
          \$14  = 5'h18;
      5'h03:
          \$14  = 5'h06;
      5'h04:
          \$14  = 5'h00;
      5'h05:
          \$14  = 5'h03;
      5'h06:
          \$14  = 5'h05;
      5'h07:
          \$14  = 5'h0f;
      5'h08:
          \$14  = 5'h15;
      5'h09:
          \$14  = 5'h19;
      5'h0a:
          \$14  = 5'h01;
      5'h0b:
          \$14  = 5'h04;
      5'h0c:
          \$14  = 5'h02;
      5'h0d:
          \$14  = 5'h0a;
      5'h0e:
          \$14  = 5'h0c;
      5'h0f:
          \$14  = 5'h13;
      5'h10:
          \$14  = 5'h07;
      5'h11:
          \$14  = 5'h17;
      5'h12:
          \$14  = 5'h12;
      5'h13:
          \$14  = 5'h0b;
      5'h14:
          \$14  = 5'h11;
      5'h15:
          \$14  = 5'h08;
      5'h16:
          \$14  = 5'h0d;
      5'h17:
          \$14  = 5'h10;
      5'h18:
          \$14  = 5'h0e;
      5'h19:
          \$14  = 5'h09;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    (* full_case = 32'd1 *)
    if (\$1 ) begin
      cnt_ring_combined = \$3 [4:0];
    end else begin
      cnt_ring_combined = \$4 [4:0];
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    \$19  = cnt;
    if (en) begin
      if (load_start) begin
        \$19  = right_in;
      end else if (load_ring) begin
      end else if (inc) begin
        (* full_case = 32'd1 *)
        if (\$17 ) begin
          \$19  = 5'h00;
        end else begin
          \$19  = \$18 [4:0];
        end
      end
    end
    if (rst) begin
      \$19  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    \$20  = ring_setting;
    if (en) begin
      if (load_start) begin
      end else if (load_ring) begin
        \$20  = right_in;
      end
    end
    if (rst) begin
      \$20  = 5'h00;
    end
  end
  assign s_m_26 = \$7 [5:0];
  assign a_ext = { 1'h0, rtol_swizzle };
  assign b_ext = { 1'h0, cnt_ring_combined };
  assign \s$12  = \$8 [5:0];
  assign diff_plus_26 = \$9 [5:0];
  assign \s_m_26$21  = \$13 [5:0];
  assign \a_ext$23  = { 1'h0, \$14  };
  assign \b_ext$24  = { 1'h0, cnt_ring_combined };
  assign \s$25  = \$15 [5:0];
  assign \diff_plus_26$26  = \$16 [5:0];
  assign right_out = swizz_l_minus_cnt_ring;
  assign \$5  = s[5];
  assign \$11  = \s$18 [5];
endmodule

(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:31" *)
(* generator = "Amaranth" *)
module \top.r1 (rst, right_in, is_at_turnover, left_out, swizz_l_minus_cnt_ring, left_in, en, load_start, load_ring, inc, clk);
  reg \$auto$verilog_backend.cc:2352:dump_module$5  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire [6:0] \$13 ;
  reg [4:0] \$14 ;
  wire [6:0] \$15 ;
  wire [6:0] \$16 ;
  wire \$17 ;
  wire [5:0] \$18 ;
  reg [4:0] \$19 ;
  wire [5:0] \$2 ;
  reg [4:0] \$20 ;
  wire [6:0] \$3 ;
  wire [5:0] \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire [6:0] \$7 ;
  wire [6:0] \$8 ;
  wire [6:0] \$9 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:80" *)
  wire [5:0] a_ext;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:80" *)
  wire [5:0] \a_ext$23 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:81" *)
  wire [5:0] b_ext;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:81" *)
  wire [5:0] \b_ext$24 ;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input clk;
  wire clk;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  reg [4:0] cnt = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:33" *)
  reg [4:0] cnt_ring_combined;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:82" *)
  wire [5:0] diff_plus_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:82" *)
  wire [5:0] \diff_plus_26$26 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  input en;
  wire en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  input inc;
  wire inc;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  output is_at_turnover;
  wire is_at_turnover;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  input [4:0] left_in;
  wire [4:0] left_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  output [4:0] left_out;
  wire [4:0] left_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:27" *)
  wire [4:0] left_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  input load_ring;
  wire load_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  input load_start;
  wire load_start;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  input [4:0] right_in;
  wire [4:0] right_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] right_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:22" *)
  wire [4:0] right_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:24" *)
  reg [4:0] ring_setting = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input rst;
  wire rst;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:23" *)
  reg [4:0] rtol_swizzle;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:68" *)
  wire [5:0] s;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:79" *)
  wire [5:0] \s$12 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:68" *)
  wire [5:0] \s$18 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:79" *)
  wire [5:0] \s$25 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:70" *)
  wire s_ge_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:70" *)
  wire \s_ge_26$20 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:69" *)
  wire [5:0] s_m_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:69" *)
  wire [5:0] \s_m_26$21 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  output [4:0] swizz_l_minus_cnt_ring;
  wire [4:0] swizz_l_minus_cnt_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:119" *)
  wire [4:0] swizz_minus_cnt_ring;
  assign \$1  = ring_setting > (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:34" *) cnt;
  assign \$2  = ring_setting - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:35" *) cnt;
  assign \$3  = $signed(6'h1a) - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:35" *) $signed(\$2 );
  assign \$4  = cnt - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:37" *) ring_setting;
  assign is_at_turnover = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:61" *) 3'h4;
  assign s = right_in + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:72" *) cnt_ring_combined;
  assign \$6  = s[4:0] >= (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) 5'h1a;
  assign s_ge_26 = \$5  | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) \$6 ;
  assign \$7  = s - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:74" *) 5'h1a;
  assign right_ptr = s_ge_26 ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:75" *) \$7 [4:0] : s[4:0];
  assign \$8  = rtol_swizzle - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:87" *) cnt_ring_combined;
  assign \$9  = \$8 [5:0] + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:88" *) 5'h1a;
  assign swizz_minus_cnt_ring = \$8 [5] ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:90" *) \$9 [4:0] : \$8 [4:0];
  assign \$10  = load_start | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:122" *) load_ring;
  assign left_out = \$10  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:122" *) right_in : swizz_minus_cnt_ring;
  assign \s$18  = left_in + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:72" *) cnt_ring_combined;
  assign \$12  = \s$18 [4:0] >= (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) 5'h1a;
  assign \s_ge_26$20  = \$11  | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) \$12 ;
  assign \$13  = \s$18  - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:74" *) 5'h1a;
  assign left_ptr = \s_ge_26$20  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:75" *) \$13 [4:0] : \s$18 [4:0];
  assign \$15  = \$14  - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:87" *) cnt_ring_combined;
  assign \$16  = \$15 [5:0] + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:88" *) 5'h1a;
  assign swizz_l_minus_cnt_ring = \$15 [5] ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:90" *) \$16 [4:0] : \$15 [4:0];
  assign \$17  = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:45" *) 5'h19;
  assign \$18  = cnt + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:48" *) 1'h1;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  always @(posedge clk)
    cnt <= \$19 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:24" *)
  always @(posedge clk)
    ring_setting <= \$20 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    rtol_swizzle = 5'h00;
    casez (right_ptr)
      5'h00:
          rtol_swizzle = 5'h00;
      5'h01:
          rtol_swizzle = 5'h09;
      5'h02:
          rtol_swizzle = 5'h03;
      5'h03:
          rtol_swizzle = 5'h0a;
      5'h04:
          rtol_swizzle = 5'h12;
      5'h05:
          rtol_swizzle = 5'h08;
      5'h06:
          rtol_swizzle = 5'h11;
      5'h07:
          rtol_swizzle = 5'h14;
      5'h08:
          rtol_swizzle = 5'h17;
      5'h09:
          rtol_swizzle = 5'h01;
      5'h0a:
          rtol_swizzle = 5'h0b;
      5'h0b:
          rtol_swizzle = 5'h07;
      5'h0c:
          rtol_swizzle = 5'h16;
      5'h0d:
          rtol_swizzle = 5'h13;
      5'h0e:
          rtol_swizzle = 5'h0c;
      5'h0f:
          rtol_swizzle = 5'h02;
      5'h10:
          rtol_swizzle = 5'h10;
      5'h11:
          rtol_swizzle = 5'h06;
      5'h12:
          rtol_swizzle = 5'h19;
      5'h13:
          rtol_swizzle = 5'h0d;
      5'h14:
          rtol_swizzle = 5'h0f;
      5'h15:
          rtol_swizzle = 5'h18;
      5'h16:
          rtol_swizzle = 5'h05;
      5'h17:
          rtol_swizzle = 5'h15;
      5'h18:
          rtol_swizzle = 5'h0e;
      5'h19:
          rtol_swizzle = 5'h04;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    \$14  = 5'h00;
    casez (left_ptr)
      5'h00:
          \$14  = 5'h00;
      5'h01:
          \$14  = 5'h09;
      5'h02:
          \$14  = 5'h0f;
      5'h03:
          \$14  = 5'h02;
      5'h04:
          \$14  = 5'h19;
      5'h05:
          \$14  = 5'h16;
      5'h06:
          \$14  = 5'h11;
      5'h07:
          \$14  = 5'h0b;
      5'h08:
          \$14  = 5'h05;
      5'h09:
          \$14  = 5'h01;
      5'h0a:
          \$14  = 5'h03;
      5'h0b:
          \$14  = 5'h0a;
      5'h0c:
          \$14  = 5'h0e;
      5'h0d:
          \$14  = 5'h13;
      5'h0e:
          \$14  = 5'h18;
      5'h0f:
          \$14  = 5'h14;
      5'h10:
          \$14  = 5'h10;
      5'h11:
          \$14  = 5'h06;
      5'h12:
          \$14  = 5'h04;
      5'h13:
          \$14  = 5'h0d;
      5'h14:
          \$14  = 5'h07;
      5'h15:
          \$14  = 5'h17;
      5'h16:
          \$14  = 5'h0c;
      5'h17:
          \$14  = 5'h08;
      5'h18:
          \$14  = 5'h15;
      5'h19:
          \$14  = 5'h12;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    (* full_case = 32'd1 *)
    if (\$1 ) begin
      cnt_ring_combined = \$3 [4:0];
    end else begin
      cnt_ring_combined = \$4 [4:0];
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    \$19  = cnt;
    if (en) begin
      if (load_start) begin
        \$19  = right_in;
      end else if (load_ring) begin
      end else if (inc) begin
        (* full_case = 32'd1 *)
        if (\$17 ) begin
          \$19  = 5'h00;
        end else begin
          \$19  = \$18 [4:0];
        end
      end
    end
    if (rst) begin
      \$19  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    \$20  = ring_setting;
    if (en) begin
      if (load_start) begin
      end else if (load_ring) begin
        \$20  = right_in;
      end
    end
    if (rst) begin
      \$20  = 5'h00;
    end
  end
  assign s_m_26 = \$7 [5:0];
  assign a_ext = { 1'h0, rtol_swizzle };
  assign b_ext = { 1'h0, cnt_ring_combined };
  assign \s$12  = \$8 [5:0];
  assign diff_plus_26 = \$9 [5:0];
  assign \s_m_26$21  = \$13 [5:0];
  assign \a_ext$23  = { 1'h0, \$14  };
  assign \b_ext$24  = { 1'h0, cnt_ring_combined };
  assign \s$25  = \$15 [5:0];
  assign \diff_plus_26$26  = \$16 [5:0];
  assign right_out = swizz_l_minus_cnt_ring;
  assign \$5  = s[5];
  assign \$11  = \s$18 [5];
endmodule

(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:31" *)
(* generator = "Amaranth" *)
module \top.r2 (rst, right_in, is_at_turnover, left_out, swizz_l_minus_cnt_ring, left_in, en, load_start, load_ring, inc, clk);
  reg \$auto$verilog_backend.cc:2352:dump_module$6  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire [6:0] \$13 ;
  reg [4:0] \$14 ;
  wire [6:0] \$15 ;
  wire [6:0] \$16 ;
  wire \$17 ;
  wire [5:0] \$18 ;
  reg [4:0] \$19 ;
  wire [5:0] \$2 ;
  reg [4:0] \$20 ;
  wire [6:0] \$3 ;
  wire [5:0] \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire [6:0] \$7 ;
  wire [6:0] \$8 ;
  wire [6:0] \$9 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:80" *)
  wire [5:0] a_ext;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:80" *)
  wire [5:0] \a_ext$23 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:81" *)
  wire [5:0] b_ext;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:81" *)
  wire [5:0] \b_ext$24 ;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input clk;
  wire clk;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  reg [4:0] cnt = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:33" *)
  reg [4:0] cnt_ring_combined;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:82" *)
  wire [5:0] diff_plus_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:82" *)
  wire [5:0] \diff_plus_26$26 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:14" *)
  input en;
  wire en;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:17" *)
  input inc;
  wire inc;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  output is_at_turnover;
  wire is_at_turnover;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:10" *)
  input [4:0] left_in;
  wire [4:0] left_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  output [4:0] left_out;
  wire [4:0] left_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:27" *)
  wire [4:0] left_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:16" *)
  input load_ring;
  wire load_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:15" *)
  input load_start;
  wire load_start;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  input [4:0] right_in;
  wire [4:0] right_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] right_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:22" *)
  wire [4:0] right_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:24" *)
  reg [4:0] ring_setting = 5'h00;
  (* src = "/Users/virantha/dev/tinytapeout/ttsetup/env/lib/python3.12/site-packages/amaranth/hdl/_ir.py:215" *)
  input rst;
  wire rst;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:23" *)
  reg [4:0] rtol_swizzle;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:68" *)
  wire [5:0] s;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:79" *)
  wire [5:0] \s$12 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:68" *)
  wire [5:0] \s$18 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:79" *)
  wire [5:0] \s$25 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:70" *)
  wire s_ge_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:70" *)
  wire \s_ge_26$20 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:69" *)
  wire [5:0] s_m_26;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:69" *)
  wire [5:0] \s_m_26$21 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  output [4:0] swizz_l_minus_cnt_ring;
  wire [4:0] swizz_l_minus_cnt_ring;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:119" *)
  wire [4:0] swizz_minus_cnt_ring;
  assign \$1  = ring_setting > (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:34" *) cnt;
  assign \$2  = ring_setting - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:35" *) cnt;
  assign \$3  = $signed(6'h1a) - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:35" *) $signed(\$2 );
  assign \$4  = cnt - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:37" *) ring_setting;
  assign is_at_turnover = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:61" *) 5'h15;
  assign s = right_in + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:72" *) cnt_ring_combined;
  assign \$6  = s[4:0] >= (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) 5'h1a;
  assign s_ge_26 = \$5  | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) \$6 ;
  assign \$7  = s - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:74" *) 5'h1a;
  assign right_ptr = s_ge_26 ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:75" *) \$7 [4:0] : s[4:0];
  assign \$8  = rtol_swizzle - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:87" *) cnt_ring_combined;
  assign \$9  = \$8 [5:0] + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:88" *) 5'h1a;
  assign swizz_minus_cnt_ring = \$8 [5] ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:90" *) \$9 [4:0] : \$8 [4:0];
  assign \$10  = load_start | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:122" *) load_ring;
  assign left_out = \$10  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:122" *) right_in : swizz_minus_cnt_ring;
  assign \s$18  = left_in + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:72" *) cnt_ring_combined;
  assign \$12  = \s$18 [4:0] >= (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) 5'h1a;
  assign \s_ge_26$20  = \$11  | (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:73" *) \$12 ;
  assign \$13  = \s$18  - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:74" *) 5'h1a;
  assign left_ptr = \s_ge_26$20  ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:75" *) \$13 [4:0] : \s$18 [4:0];
  assign \$15  = \$14  - (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:87" *) cnt_ring_combined;
  assign \$16  = \$15 [5:0] + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:88" *) 5'h1a;
  assign swizz_l_minus_cnt_ring = \$15 [5] ? (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:90" *) \$16 [4:0] : \$15 [4:0];
  assign \$17  = cnt == (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:45" *) 5'h19;
  assign \$18  = cnt + (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:48" *) 1'h1;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  always @(posedge clk)
    cnt <= \$19 ;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:24" *)
  always @(posedge clk)
    ring_setting <= \$20 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$6 ) begin end
    rtol_swizzle = 5'h00;
    casez (right_ptr)
      5'h00:
          rtol_swizzle = 5'h01;
      5'h01:
          rtol_swizzle = 5'h03;
      5'h02:
          rtol_swizzle = 5'h05;
      5'h03:
          rtol_swizzle = 5'h07;
      5'h04:
          rtol_swizzle = 5'h09;
      5'h05:
          rtol_swizzle = 5'h0b;
      5'h06:
          rtol_swizzle = 5'h02;
      5'h07:
          rtol_swizzle = 5'h0f;
      5'h08:
          rtol_swizzle = 5'h11;
      5'h09:
          rtol_swizzle = 5'h13;
      5'h0a:
          rtol_swizzle = 5'h17;
      5'h0b:
          rtol_swizzle = 5'h15;
      5'h0c:
          rtol_swizzle = 5'h19;
      5'h0d:
          rtol_swizzle = 5'h0d;
      5'h0e:
          rtol_swizzle = 5'h18;
      5'h0f:
          rtol_swizzle = 5'h04;
      5'h10:
          rtol_swizzle = 5'h08;
      5'h11:
          rtol_swizzle = 5'h16;
      5'h12:
          rtol_swizzle = 5'h06;
      5'h13:
          rtol_swizzle = 5'h00;
      5'h14:
          rtol_swizzle = 5'h0a;
      5'h15:
          rtol_swizzle = 5'h0c;
      5'h16:
          rtol_swizzle = 5'h14;
      5'h17:
          rtol_swizzle = 5'h12;
      5'h18:
          rtol_swizzle = 5'h10;
      5'h19:
          rtol_swizzle = 5'h0e;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$6 ) begin end
    \$14  = 5'h00;
    casez (left_ptr)
      5'h00:
          \$14  = 5'h13;
      5'h01:
          \$14  = 5'h00;
      5'h02:
          \$14  = 5'h06;
      5'h03:
          \$14  = 5'h01;
      5'h04:
          \$14  = 5'h0f;
      5'h05:
          \$14  = 5'h02;
      5'h06:
          \$14  = 5'h12;
      5'h07:
          \$14  = 5'h03;
      5'h08:
          \$14  = 5'h10;
      5'h09:
          \$14  = 5'h04;
      5'h0a:
          \$14  = 5'h14;
      5'h0b:
          \$14  = 5'h05;
      5'h0c:
          \$14  = 5'h15;
      5'h0d:
          \$14  = 5'h0d;
      5'h0e:
          \$14  = 5'h19;
      5'h0f:
          \$14  = 5'h07;
      5'h10:
          \$14  = 5'h18;
      5'h11:
          \$14  = 5'h08;
      5'h12:
          \$14  = 5'h17;
      5'h13:
          \$14  = 5'h09;
      5'h14:
          \$14  = 5'h16;
      5'h15:
          \$14  = 5'h0b;
      5'h16:
          \$14  = 5'h11;
      5'h17:
          \$14  = 5'h0a;
      5'h18:
          \$14  = 5'h0e;
      5'h19:
          \$14  = 5'h0c;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$6 ) begin end
    (* full_case = 32'd1 *)
    if (\$1 ) begin
      cnt_ring_combined = \$3 [4:0];
    end else begin
      cnt_ring_combined = \$4 [4:0];
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$6 ) begin end
    \$19  = cnt;
    if (en) begin
      if (load_start) begin
        \$19  = right_in;
      end else if (load_ring) begin
      end else if (inc) begin
        (* full_case = 32'd1 *)
        if (\$17 ) begin
          \$19  = 5'h00;
        end else begin
          \$19  = \$18 [4:0];
        end
      end
    end
    if (rst) begin
      \$19  = 5'h00;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$6 ) begin end
    \$20  = ring_setting;
    if (en) begin
      if (load_start) begin
      end else if (load_ring) begin
        \$20  = right_in;
      end
    end
    if (rst) begin
      \$20  = 5'h00;
    end
  end
  assign s_m_26 = \$7 [5:0];
  assign a_ext = { 1'h0, rtol_swizzle };
  assign b_ext = { 1'h0, cnt_ring_combined };
  assign \s$12  = \$8 [5:0];
  assign diff_plus_26 = \$9 [5:0];
  assign \s_m_26$21  = \$13 [5:0];
  assign \a_ext$23  = { 1'h0, \$14  };
  assign \b_ext$24  = { 1'h0, cnt_ring_combined };
  assign \s$25  = \$15 [5:0];
  assign \diff_plus_26$26  = \$16 [5:0];
  assign right_out = swizz_l_minus_cnt_ring;
  assign \$5  = s[5];
  assign \$11  = \s$18 [5];
endmodule

(* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:163" *)
(* generator = "Amaranth" *)
module \top.ref (left_out, right_ptr);
  reg \$auto$verilog_backend.cc:2352:dump_module$7  = 0;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:21" *)
  wire [4:0] cnt;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:13" *)
  wire is_at_turnover;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:8" *)
  output [4:0] left_out;
  reg [4:0] left_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:27" *)
  wire [4:0] left_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  wire [4:0] right_in;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:11" *)
  wire [4:0] right_out;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:7" *)
  input [4:0] right_ptr;
  wire [4:0] right_ptr;
  (* src = "/Users/virantha/dev/tinytapeout/tt10-enigma/src/rotor.py:23" *)
  wire [4:0] rtol_swizzle;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$7 ) begin end
    left_out = 5'h00;
    casez (right_ptr)
      5'h00:
          left_out = 5'h18;
      5'h01:
          left_out = 5'h11;
      5'h02:
          left_out = 5'h14;
      5'h03:
          left_out = 5'h07;
      5'h04:
          left_out = 5'h10;
      5'h05:
          left_out = 5'h12;
      5'h06:
          left_out = 5'h0b;
      5'h07:
          left_out = 5'h03;
      5'h08:
          left_out = 5'h0f;
      5'h09:
          left_out = 5'h17;
      5'h0a:
          left_out = 5'h0d;
      5'h0b:
          left_out = 5'h06;
      5'h0c:
          left_out = 5'h0e;
      5'h0d:
          left_out = 5'h0a;
      5'h0e:
          left_out = 5'h0c;
      5'h0f:
          left_out = 5'h08;
      5'h10:
          left_out = 5'h04;
      5'h11:
          left_out = 5'h01;
      5'h12:
          left_out = 5'h05;
      5'h13:
          left_out = 5'h19;
      5'h14:
          left_out = 5'h02;
      5'h15:
          left_out = 5'h16;
      5'h16:
          left_out = 5'h15;
      5'h17:
          left_out = 5'h09;
      5'h18:
          left_out = 5'h00;
      5'h19:
          left_out = 5'h13;
    endcase
  end
  assign right_in = right_ptr;
  assign right_out = 5'h00;
  assign is_at_turnover = 1'h0;
  assign rtol_swizzle = 5'h00;
  assign cnt = 5'h00;
  assign left_ptr = 5'h00;
endmodule
